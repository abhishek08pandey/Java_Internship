package com.rivetbank.controller;

import java.util.Scanner;

import com.rivetbank.service.Service;
import com.rivetbank.service.ServiceImpl;

public class Controller {
	
	static Service service = new ServiceImpl();

	public static void main(String[] args) {
		modeCall();
	}

	public static void modeCall() {
		try {
			Scanner scan = new Scanner(System.in);
			System.out.println("*******************************************");
			System.out.println(
					"Mode:\n Create Account 1\n Balance inquiry 2 \n Account Details 3\n Credit Amount 4\n Withdraw Amount 5 \n Exit press: 6");
			String selectedMode = scan.next();
			
			if (selectedMode.contentEquals("1")) {
				service.createDBConnection();
				service.createAccount();
			}else if (selectedMode.contentEquals("2")) {
				service.createDBConnection();
				
				System.out.println("**********\nEnter Id: ");
				@SuppressWarnings("resource")
				Scanner getOneId = new Scanner(System.in);
				int id = getOneId.nextInt();
				
				service.accountDetails(id);
			}else if(selectedMode.contentEquals(3)){
			}else {
				System.out.println("Choose correct Mode: ");
				modeCall();
			}
		} catch (NullPointerException e) {
			System.out.println("You have to create account, User does not exist");
			modeCall();
		}
	}
}