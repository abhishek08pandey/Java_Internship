package com.rivetbank.controller;

import java.util.Scanner;

import com.rivetbank.service.Service;
import com.rivetbank.service.ServiceImpl;

public class SwitchController {

	static Service service = new ServiceImpl();

	public static void main(String[] args) {
		mainMenu();
	}

	public static void mainMenu() {
		try {
			Scanner scan = new Scanner(System.in);
			System.out.println("*******************************************");
			System.out.println(
					"Mode:\n Create Account 1\n Person Account Details 2 \n All Account Details 3\n Update Account 4\n Delete Amount 5 \n Exit press: 6");
			String selectedMode = scan.next();

			switch (selectedMode) {
			case "1":
				service.createDBConnection();
				service.createAccount();
				mainMenu();
				break;

			case "2":
				service.createDBConnection();

				System.out.println("**********\nEnter Id: ");
				Scanner id = new Scanner(System.in);
				int getOneId = id.nextInt();

				service.accountDetails(getOneId);
				mainMenu();
				break;

			case "3":
				service.createDBConnection();
				service.allAccountDetails();
				mainMenu();
				break;

			case "4":
				service.createDBConnection();

				System.out.println("**********\nEnter Id: ");
				Scanner updateOneId = new Scanner(System.in);
				int updateId = updateOneId.nextInt();

				service.updateAccount(updateId);
				mainMenu();
				break;

			case "5":
				service.createDBConnection();

				System.out.println("**********\nEnter Id: ");
				Scanner getOneId = new Scanner(System.in);
				int deleteId = getOneId.nextInt();

				service.deleteAccountById(deleteId);
				mainMenu();
				break;

			case "6":
				System.out.println("\nThanks for Using Rivet Bank application");
				break;
			default:
				System.out.println("Choose correct Mode: ");
				mainMenu();
				break;
			}

		} catch (NullPointerException e) {
			System.out.println("You have to create account, User does not exist");
			mainMenu();
		}
	}
}
